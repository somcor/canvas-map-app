<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Canvas Map Task</title>
</head>
<body>
    <style>
        body{
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: space-around;
        }
        .canvasContainer{
            margin-top: 20px;
            border: 1px solid #cccccc;
        }
    </style>
    
    <canvas width="500" height="500" class="canvasContainer" id="canvasContainer">
        Your browser does not support the canvas element.
    </canvas>

    <script>
        var points = [
            {"x":567,"y":622},{"x":849,"y":837},{"x":950,"y":894},{"x":1002,"y":663},{"x":586,"y":566},{"x":360,"y":605},{"x":582,"y":627},{"x":874,"y":790},{"x":568,"y":319},{"x":312,"y":685},{"x":1001,"y":773},{"x":36,"y":840},{"x":289,"y":150},{"x":858,"y":365},{"x":307,"y":261},{"x":978,"y":190},{"x":133,"y":210},{"x":19,"y":531},{"x":567,"y":227},{"x":233,"y":785},{"x":94,"y":70},{"x":601,"y":889},{"x":775,"y":232},{"x":306,"y":469},{"x":543,"y":607},{"x":552,"y":830},{"x":213,"y":317},{"x":503,"y":367},{"x":727,"y":512},{"x":304,"y":828},{"x":81,"y":591},{"x":390,"y":206},{"x":561,"y":542},{"x":816,"y":696},{"x":994,"y":419},{"x":959,"y":879},{"x":271,"y":614},{"x":283,"y":961},{"x":555,"y":620},{"x":418,"y":895},{"x":56,"y":286},{"x":909,"y":49},{"x":541,"y":794},{"x":997,"y":893},{"x":48,"y":263},{"x":772,"y":346},{"x":780,"y":527},{"x":329,"y":390},{"x":875,"y":803},{"x":262,"y":177},{"x":744,"y":951},{"x":977,"y":447},{"x":958,"y":194},{"x":551,"y":223},{"x":873,"y":839},{"x":837,"y":766},{"x":723,"y":415},{"x":1058,"y":474},{"x":588,"y":903},{"x":443,"y":250},{"x":796,"y":688},{"x":685,"y":594},{"x":669,"y":906},{"x":314,"y":771},{"x":679,"y":902},{"x":915,"y":163},{"x":363,"y":185},{"x":336,"y":866},{"x":737,"y":903},{"x":579,"y":190},{"x":295,"y":275},{"x":668,"y":1004},{"x":542,"y":641},{"x":963,"y":497},{"x":392,"y":351},{"x":699,"y":797},{"x":462,"y":649},{"x":446,"y":399},{"x":664,"y":229},{"x":681,"y":214},{"x":980,"y":1062},{"x":1062,"y":780},{"x":115,"y":393},{"x":109,"y":1034},{"x":586,"y":115},{"x":617,"y":794},{"x":124,"y":782},{"x":460,"y":223},{"x":588,"y":593},{"x":293,"y":1001},{"x":905,"y":793},{"x":778,"y":273},{"x":327,"y":193},{"x":716,"y":234},{"x":759,"y":225},{"x":623,"y":742},{"x":267,"y":821},{"x":447,"y":880},{"x":217,"y":112},{"x":439,"y":130},{"x":242,"y":832},{"x":614,"y":246},{"x":198,"y":390},{"x":886,"y":354},{"x":498,"y":335},{"x":143,"y":590},{"x":912,"y":167},{"x":405,"y":858},{"x":437,"y":243},{"x":447,"y":502},{"x":692,"y":852},{"x":159,"y":572},{"x":652,"y":177},{"x":158,"y":589},{"x":564,"y":944},{"x":619,"y":444},{"x":533,"y":781},{"x":798,"y":325},{"x":919,"y":482},{"x":1009,"y":512},{"x":339,"y":287},{"x":559,"y":295},{"x":202,"y":861},{"x":743,"y":357},{"x":426,"y":269},{"x":582,"y":1075},{"x":916,"y":1056},{"x":579,"y":162},{"x":391,"y":944},{"x":861,"y":981},{"x":240,"y":415},{"x":147,"y":599},{"x":349,"y":136},{"x":557,"y":1067},{"x":281,"y":263},{"x":253,"y":438},{"x":507,"y":152},{"x":613,"y":329},{"x":764,"y":904},{"x":775,"y":1053},{"x":831,"y":240},{"x":198,"y":367},{"x":1100,"y":760},{"x":285,"y":253},{"x":350,"y":342},{"x":251,"y":908},{"x":223,"y":226},{"x":775,"y":927},{"x":1075,"y":548},{"x":510,"y":501},{"x":786,"y":952},{"x":639,"y":560},{"x":963,"y":703},{"x":782,"y":172},{"x":445,"y":1050},{"x":160,"y":497},{"x":886,"y":489},{"x":553,"y":693},{"x":623,"y":1119},{"x":1039,"y":396},{"x":323,"y":185},{"x":752,"y":252},{"x":714,"y":495},{"x":198,"y":191},{"x":1040,"y":410},{"x":547,"y":805},{"x":1019,"y":411},{"x":557,"y":327},{"x":659,"y":683},{"x":473,"y":976},{"x":976,"y":1076},{"x":1169,"y":1069},{"x":312,"y":1092},{"x":482,"y":279},{"x":475,"y":597},{"x":926,"y":380},{"x":1077,"y":1128},{"x":793,"y":1110},{"x":464,"y":409},{"x":641,"y":766},{"x":939,"y":1150},{"x":1121,"y":958},{"x":1124,"y":859},{"x":820,"y":288},{"x":615,"y":1039},{"x":318,"y":928},{"x":679,"y":982},{"x":530,"y":394},{"x":281,"y":1066},{"x":1189,"y":382},{"x":910,"y":587},{"x":1150,"y":1087},{"x":653,"y":914},{"x":626,"y":826},{"x":831,"y":476},{"x":749,"y":544},{"x":227,"y":827},{"x":315,"y":536},{"x":963,"y":931},{"x":818,"y":434},{"x":607,"y":396},{"x":702,"y":1074},{"x":1058,"y":958},{"x":604,"y":859},{"x":879,"y":254},{"x":687,"y":698},{"x":418,"y":897},{"x":613,"y":1203},{"x":453,"y":856},{"x":1097,"y":1209},{"x":666,"y":417},{"x":978,"y":983},{"x":972,"y":710},{"x":1044,"y":754},{"x":455,"y":365},{"x":288,"y":646},{"x":1196,"y":629},{"x":858,"y":367},{"x":597,"y":619},{"x":425,"y":939},{"x":716,"y":733},{"x":1055,"y":640},{"x":969,"y":934},{"x":777,"y":897},{"x":1149,"y":1009},{"x":448,"y":710},{"x":945,"y":686},{"x":1218,"y":1224},{"x":1036,"y":332},{"x":686,"y":1220},{"x":734,"y":867},{"x":245,"y":660},{"x":877,"y":669},{"x":1000,"y":610},{"x":1100,"y":825},{"x":893,"y":1140},{"x":818,"y":676},{"x":739,"y":1036},{"x":454,"y":1124},{"x":693,"y":408},{"x":811,"y":808},{"x":483,"y":468},{"x":1094,"y":412},{"x":819,"y":560},{"x":956,"y":1238},{"x":1202,"y":855},{"x":498,"y":976},{"x":434,"y":557},{"x":1116,"y":524},{"x":956,"y":1005},{"x":791,"y":495},{"x":710,"y":524},{"x":1109,"y":617},{"x":863,"y":447},{"x":1240,"y":597},{"x":465,"y":984},{"x":674,"y":654},{"x":315,"y":1175},{"x":470,"y":916},{"x":475,"y":1244},{"x":1053,"y":1157},{"x":975,"y":710},{"x":440,"y":497},{"x":886,"y":419},{"x":1141,"y":1217},{"x":590,"y":314},{"x":1036,"y":662},{"x":830,"y":958},{"x":550,"y":730},{"x":1182,"y":695},{"x":1201,"y":542},{"x":1068,"y":1001},{"x":848,"y":494},{"x":408,"y":760},{"x":1153,"y":818},{"x":1171,"y":306},{"x":520,"y":917},{"x":349,"y":1026},{"x":698,"y":957},{"x":1274,"y":922},{"x":645,"y":665},{"x":1201,"y":379},{"x":291,"y":439},{"x":1207,"y":380},{"x":451,"y":1193},{"x":507,"y":855},{"x":1256,"y":557},{"x":906,"y":1245},{"x":458,"y":437},{"x":446,"y":368},{"x":483,"y":901},{"x":369,"y":333},{"x":1154,"y":358},{"x":944,"y":1102},{"x":822,"y":548},{"x":1143,"y":735},{"x":1047,"y":917},{"x":1204,"y":392},{"x":389,"y":1223},{"x":1175,"y":872},{"x":696,"y":1253},{"x":546,"y":1017},{"x":468,"y":535},{"x":1092,"y":967},{"x":613,"y":905},{"x":1221,"y":740},{"x":609,"y":1147},{"x":850,"y":624},{"x":1185,"y":878},{"x":971,"y":1080},{"x":698,"y":967},{"x":597,"y":1260},{"x":468,"y":360},{"x":1063,"y":1139},{"x":971,"y":1020},{"x":779,"y":934},{"x":511,"y":736},{"x":913,"y":439},{"x":1037,"y":1096},{"x":1107,"y":855},{"x":1148,"y":465},{"x":1306,"y":681},{"x":560,"y":422},{"x":1271,"y":1256},{"x":853,"y":885},{"x":627,"y":1126},{"x":993,"y":946},{"x":692,"y":1043},{"x":535,"y":722},{"x":1030,"y":674},{"x":334,"y":1135},{"x":831,"y":879},{"x":1310,"y":570},{"x":502,"y":466},{"x":1015,"y":1190},{"x":1264,"y":597},{"x":641,"y":1160},{"x":823,"y":1304},{"x":712,"y":907},{"x":1092,"y":999},{"x":1069,"y":1186},{"x":1149,"y":1150},{"x":1268,"y":961},{"x":771,"y":1091},{"x":977,"y":863},{"x":753,"y":936},{"x":1288,"y":744},{"x":1166,"y":1055},{"x":1229,"y":410},{"x":1241,"y":561},{"x":1242,"y":885},{"x":1001,"y":1135},{"x":1325,"y":1350},{"x":740,"y":739},{"x":1021,"y":981},{"x":1220,"y":1137},{"x":1029,"y":673},{"x":431,"y":460},{"x":472,"y":1117},{"x":1248,"y":995},{"x":681,"y":1286},{"x":416,"y":1107},{"x":495,"y":568},{"x":878,"y":447},{"x":1178,"y":586},{"x":525,"y":873},{"x":673,"y":1315},{"x":459,"y":423},{"x":1165,"y":1201},{"x":567,"y":945},{"x":898,"y":974},{"x":970,"y":942},{"x":448,"y":1005},{"x":472,"y":513},{"x":667,"y":598},{"x":625,"y":1143},{"x":1200,"y":420},{"x":1287,"y":685},{"x":639,"y":440},{"x":1052,"y":708},{"x":451,"y":1261},{"x":645,"y":882},{"x":483,"y":1367},{"x":1248,"y":494},{"x":915,"y":897},{"x":394,"y":1308},{"x":1199,"y":570},{"x":470,"y":1120},{"x":1157,"y":1111},{"x":462,"y":1055},{"x":643,"y":1095},{"x":523,"y":601},{"x":502,"y":983},{"x":1376,"y":562},{"x":593,"y":467},{"x":1277,"y":725},{"x":480,"y":1023},{"x":1246,"y":1284},{"x":919,"y":1060},{"x":1217,"y":1399},{"x":539,"y":1032},{"x":1137,"y":1167},{"x":487,"y":1019},{"x":1121,"y":443},{"x":1232,"y":417},{"x":499,"y":1118},{"x":650,"y":1071},{"x":1129,"y":831},{"x":1027,"y":797},{"x":1177,"y":550},{"x":921,"y":1407},{"x":801,"y":698},{"x":832,"y":1059},{"x":986,"y":644},{"x":704,"y":634},{"x":610,"y":1033},{"x":1094,"y":1277},{"x":1393,"y":1294},{"x":959,"y":703},{"x":1195,"y":587},{"x":1012,"y":434},{"x":845,"y":1078},{"x":753,"y":1152},{"x":1320,"y":495},{"x":1077,"y":1419},{"x":1322,"y":811},{"x":786,"y":921},{"x":668,"y":1220},{"x":995,"y":630},{"x":1314,"y":1065},{"x":804,"y":1097},{"x":962,"y":893},{"x":884,"y":1075},{"x":618,"y":602},{"x":559,"y":1041},{"x":666,"y":1384},{"x":592,"y":630},{"x":715,"y":1203},{"x":736,"y":1284},{"x":1316,"y":1440},{"x":785,"y":939},{"x":764,"y":1073},{"x":922,"y":988},{"x":1266,"y":584},{"x":849,"y":476},{"x":1373,"y":1145},{"x":604,"y":1349},{"x":1222,"y":626},{"x":1351,"y":1302},{"x":1173,"y":1274},{"x":1160,"y":836},{"x":1017,"y":651},{"x":1016,"y":1431},{"x":946,"y":1165},{"x":957,"y":792},{"x":1376,"y":1195},{"x":1376,"y":841},{"x":972,"y":1448},{"x":961,"y":1136},{"x":1056,"y":709},{"x":506,"y":774},{"x":550,"y":777},{"x":1208,"y":1319},{"x":474,"y":1434},{"x":884,"y":1192},{"x":969,"y":1404},{"x":546,"y":991},{"x":670,"y":1268},{"x":768,"y":1173},{"x":983,"y":1082},{"x":1470,"y":1378},{"x":1361,"y":688},{"x":906,"y":1288},{"x":636,"y":872},{"x":815,"y":975},{"x":933,"y":593},{"x":1073,"y":700},{"x":706,"y":1155},{"x":669,"y":1346},{"x":792,"y":776},{"x":1189,"y":1024},{"x":734,"y":892},
            {"x":782,"y":1076},{"x":1369,"y":649},{"x":870,"y":979},{"x":857,"y":910},{"x":1283,"y":1432},{"x":842,"y":757},{"x":771,"y":1052},{"x":1344,"y":748},{"x":1357,"y":1479},{"x":1080,"y":1075},{"x":556,"y":1086},{"x":1461,"y":649},{"x":1080,"y":519},{"x":589,"y":1015},{"x":1052,"y":1094},{"x":898,"y":1370},{"x":882,"y":1063},{"x":1041,"y":1329},{"x":828,"y":1153},{"x":1147,"y":714},{"x":1099,"y":1357},{"x":1361,"y":1218},{"x":1166,"y":561},{"x":657,"y":1013},{"x":552,"y":770},{"x":1393,"y":973},{"x":1460,"y":1348},{"x":878,"y":1240},{"x":1359,"y":812},{"x":741,"y":1464},{"x":713,"y":1119},{"x":1513,"y":810},{"x":1028,"y":1193},{"x":1017,"y":1380},{"x":584,"y":633},{"x":1166,"y":1335},{"x":1084,"y":905},{"x":743,"y":1413},{"x":647,"y":568},{"x":681,"y":874},{"x":827,"y":787},{"x":999,"y":569},{"x":1257,"y":1057},{"x":995,"y":597},{"x":1354,"y":1433},{"x":691,"y":1168},{"x":1343,"y":1046},{"x":718,"y":605},{"x":784,"y":899},{"x":1371,"y":1350},{"x":1374,"y":1110},{"x":1096,"y":997},{"x":549,"y":1212},{"x":556,"y":1063},{"x":1303,"y":830},{"x":920,"y":1244},{"x":821,"y":1011},{"x":1098,"y":1257},{"x":893,"y":1382},{"x":1160,"y":1106},{"x":1338,"y":1136},{"x":816,"y":856},{"x":1291,"y":640},{"x":1191,"y":847},{"x":984,"y":1454},{"x":976,"y":1168},{"x":1297,"y":1399},{"x":1004,"y":925},{"x":1546,"y":1472},{"x":1030,"y":692},{"x":781,"y":1472},{"x":1491,"y":1309},{"x":605,"y":1140},{"x":1151,"y":1382},{"x":941,"y":1447},{"x":733,"y":806},{"x":1273,"y":702},{"x":862,"y":625},{"x":596,"y":1322},{"x":896,"y":1366},{"x":1516,"y":1362},{"x":667,"y":1032},{"x":1315,"y":1500},{"x":1338,"y":1562},{"x":856,"y":709},{"x":1047,"y":700},{"x":714,"y":1341},{"x":796,"y":1171},{"x":838,"y":1292},{"x":1362,"y":942},{"x":845,"y":893},{"x":1201,"y":1309},{"x":838,"y":642},{"x":1444,"y":1495},{"x":1560,"y":1207},{"x":1280,"y":1153},{"x":944,"y":1521},{"x":1494,"y":942},{"x":1470,"y":786},{"x":1058,"y":714},{"x":1215,"y":1300},{"x":844,"y":1209},{"x":874,"y":1429},{"x":855,"y":597},{"x":913,"y":1090},{"x":1125,"y":1588},{"x":1119,"y":935},{"x":1585,"y":1200},{"x":933,"y":1267},{"x":1243,"y":1579},{"x":699,"y":1043},{"x":704,"y":1355},{"x":1480,"y":1146},{"x":1216,"y":1347},{"x":1403,"y":1140},{"x":1467,"y":743},{"x":1194,"y":1028},{"x":1297,"y":1365},{"x":1221,"y":1002},{"x":645,"y":1139},{"x":1538,"y":1039},{"x":903,"y":1018},{"x":781,"y":1434},{"x":980,"y":913},{"x":1494,"y":1034},{"x":1526,"y":1162},{"x":1571,"y":644},{"x":699,"y":1242},{"x":759,"y":1005},{"x":1050,"y":1554},{"x":1493,"y":1248},{"x":874,"y":1511},{"x":1103,"y":700},{"x":706,"y":1244},{"x":1198,"y":866},{"x":665,"y":675},{"x":672,"y":849},{"x":1399,"y":1209},{"x":666,"y":940},{"x":729,"y":862},{"x":772,"y":1285},{"x":1233,"y":1209},{"x":1470,"y":797},{"x":1434,"y":702},{"x":725,"y":767},{"x":1225,"y":1194},{"x":1431,"y":875},{"x":763,"y":1627},{"x":815,"y":1158},{"x":832,"y":1509},{"x":1358,"y":1320},{"x":760,"y":1296},{"x":1478,"y":1604},{"x":1527,"y":945},{"x":1024,"y":1152},{"x":805,"y":1217},{"x":1203,"y":697},{"x":1638,"y":1284},{"x":1221,"y":1184},{"x":1018,"y":1511},{"x":978,"y":655},{"x":1031,"y":991},{"x":1277,"y":1052},{"x":1017,"y":651},{"x":1545,"y":1638},{"x":991,"y":1047},{"x":1200,"y":752},{"x":799,"y":1097},{"x":1446,"y":1148},{"x":1121,"y":825},{"x":937,"y":1079},{"x":1450,"y":1083},{"x":1166,"y":989},{"x":659,"y":892},{"x":1205,"y":1584},{"x":1194,"y":1004},{"x":665,"y":1563},{"x":1346,"y":876},{"x":690,"y":1651},{"x":670,"y":1608},{"x":1338,"y":1454},{"x":1267,"y":710},{"x":1323,"y":1357},{"x":1561,"y":963},{"x":859,"y":1438},{"x":1610,"y":1594},{"x":884,"y":1599},{"x":835,"y":1092},{"x":1460,"y":1342},{"x":1475,"y":1215},{"x":1558,"y":946},{"x":1262,"y":719},{"x":938,"y":1039},{"x":1268,"y":948},{"x":999,"y":1107},{"x":897,"y":1194},{"x":1571,"y":1279},{"x":1014,"y":1298},{"x":1679,"y":956},{"x":785,"y":1034},{"x":799,"y":1180},{"x":844,"y":1425},{"x":1182,"y":890},{"x":1164,"y":864},{"x":1556,"y":909},{"x":1176,"y":1588},{"x":714,"y":1429},{"x":1382,"y":1029},{"x":1410,"y":1311},{"x":1166,"y":962},{"x":1278,"y":1370},{"x":1555,"y":1191},{"x":1227,"y":1179},{"x":1003,"y":1427},{"x":806,"y":971},{"x":1288,"y":1235},{"x":1297,"y":1194},{"x":1580,"y":710},{"x":1447,"y":924},{"x":962,"y":1146},{"x":1533,"y":1537},{"x":1093,"y":1426},{"x":1544,"y":1591},{"x":1368,"y":1654},{"x":1433,"y":1646},{"x":1139,"y":724},{"x":1632,"y":814},{"x":925,"y":1511},{"x":1377,"y":839},{"x":1205,"y":1375},{"x":1312,"y":752},{"x":1444,"y":799},{"x":898,"y":1502},{"x":1075,"y":1092},{"x":1133,"y":809},{"x":1189,"y":833},{"x":1057,"y":1346},{"x":803,"y":1244},{"x":1639,"y":1409},{"x":1220,"y":1166},{"x":942,"y":1328},{"x":1090,"y":1243},{"x":1697,"y":938},{"x":1593,"y":1583},{"x":889,"y":1473},{"x":838,"y":1611},{"x":1391,"y":812},{"x":803,"y":1365},{"x":903,"y":930},{"x":1174,"y":915},{"x":1131,"y":747},{"x":1048,"y":996},{"x":1216,"y":1405},{"x":1351,"y":841},{"x":1474,"y":1243},{"x":1292,"y":1221},{"x":1514,"y":794},{"x":1448,"y":916},{"x":1265,"y":1344},{"x":1399,"y":1445},{"x":1041,"y":806},{"x":874,"y":772},{"x":1461,"y":1194},{"x":1188,"y":1571},{"x":1183,"y":1241},{"x":1365,"y":768},{"x":996,"y":1121},{"x":1084,"y":1190},{"x":1044,"y":977},{"x":830,"y":1254},{"x":1014,"y":1471},{"x":1414,"y":1546},{"x":1156,"y":981},{"x":906,"y":779},{"x":1632,"y":1260},{"x":1509,"y":1409},{"x":1230,"y":1014},{"x":1502,"y":1114},{"x":1330,"y":1291},{"x":947,"y":1139},{"x":894,"y":1763},{"x":952,"y":1021},{"x":1214,"y":940},{"x":1157,"y":891},{"x":1451,"y":1016},{"x":1731,"y":1727},{"x":1293,"y":994},{"x":1242,"y":1484},{"x":1722,"y":786},{"x":953,"y":1657},{"x":1617,"y":1627},{"x":1615,"y":834},{"x":1013,"y":1280},{"x":1285,"y":910},{"x":1538,"y":1272},{"x":1449,"y":1395},{"x":1200,"y":1586},{"x":1780,"y":1208},{"x":1705,"y":893},{"x":1512,"y":1028},{"x":880,"y":979},{"x":1319,"y":851},{"x":1342,"y":1722},{"x":1598,"y":1676},{"x":1370,"y":1050},{"x":1782,"y":1763},{"x":1346,"y":1781},{"x":904,"y":1212},{"x":1050,"y":1260},{"x":802,"y":987},{"x":1531,"y":1414},{"x":1496,"y":1513},{"x":1049,"y":1449},{"x":1288,"y":1611},{"x":1037,"y":964},{"x":1560,"y":1149},{"x":1492,"y":1363},{"x":1217,"y":1697},{"x":1243,"y":1661},{"x":1660,"y":1015},{"x":825,"y":1348},{"x":1530,"y":818},{"x":912,"y":1768},{"x":1413,"y":1340},{"x":1376,"y":1612},{"x":1693,"y":875},{"x":1412,"y":1418},{"x":1597,"y":987},{"x":1129,"y":1417},{"x":1381,"y":1558},{"x":1339,"y":1112},{"x":1765,"y":1234},{"x":1346,"y":1046},{"x":1030,"y":1715},{"x":1183,"y":1018},{"x":1331,"y":1562},{"x":840,"y":1729},{"x":877,"y":1764},{"x":1614,"y":1338},{"x":1167,"y":978},{"x":890,"y":1260},{"x":1795,"y":1543},{"x":1326,"y":1347},{"x":1295,"y":1088},{"x":1390,"y":1621},{"x":1170,"y":1072},{"x":1256,"y":1199},{"x":1699,"y":1768},{"x":929,"y":1728},{"x":1344,"y":1615},{"x":1220,"y":874},{"x":1120,"y":1593},{"x":1246,"y":957},{"x":1469,"y":1721},{"x":1610,"y":902},{"x":1775,"y":1168},{"x":1789,"y":1073},{"x":1411,"y":1169},{"x":1595,"y":1267},{"x":913,"y":1581},{"x":1512,"y":1758},{"x":1648,"y":1698},{"x":1350,"y":1626},{"x":1481,"y":1632},{"x":1071,"y":1033},{"x":1121,"y":1514},{"x":1148,"y":1064},{"x":1336,"y":1409},{"x":1170,"y":1534},{"x":1187,"y":1819},{"x":1462,"y":1595},{"x":984,"y":1070},{"x":1306,"y":1072},{"x":1829,"y":1667},{"x":1701,"y":1302},{"x":1848,"y":1289},{"x":1719,"y":1248},{"x":1410,"y":867},{"x":1787,"y":1463},{"x":1829,"y":1856},{"x":1115,"y":1225},{"x":1477,"y":1583},{"x":1500,"y":977},{"x":867,"y":1400},{"x":1646,"y":1004},{"x":869,"y":1690},{"x":1610,"y":1261},{"x":959,"y":1833},{"x":1635,"y":1588},{"x":1022,"y":1469},{"x":1848,"y":1194},{"x":1221,"y":1720},{"x":1694,"y":1799},{"x":1558,"y":1444},{"x":969,"y":948},{"x":1049,"y":1668},{"x":1011,"y":1705},{"x":1047,"y":902},{"x":986,"y":1455},{"x":1516,"y":920},{"x":1770,"y":1770},{"x":1208,"y":1320},{"x":1427,"y":902},{"x":1514,"y":937},{"x":1628,"y":1588},{"x":1533,"y":1474},{"x":1250,"y":1846},{"x":1217,"y":1666},{"x":1010,"y":1072},{"x":1236,"y":1204},{"x":1659,"y":1889},{"x":1884,"y":1343},{"x":1166,"y":1807},{"x":1114,"y":1531},{"x":1045,"y":1204},{"x":1241,"y":957},{"x":1244,"y":988},{"x":1133,"y":1495},{"x":1122,"y":1643},{"x":1436,"y":1641},{"x":1257,"y":1563},{"x":1384,"y":1035},{"x":1260,"y":1727},{"x":1180,"y":1510},{"x":1454,"y":972},{"x":1782,"y":979},{"x":1463,"y":1845},{"x":919,"y":974},{"x":935,"y":1193},{"x":1147,"y":1548},{"x":1351,"y":1005},{"x":1535,"y":1261},{"x":1790,"y":918},{"x":1652,"y":1290},{"x":971,"y":1408},{"x":1071,"y":1660},{"x":1765,"y":1172},{"x":1306,"y":1604},{"x":1769,"y":1210},{"x":1341,"y":1052},{"x":961,"y":1345},{"x":1466,"y":1813},{"x":1919,"y":1072},{"x":1459,"y":1622},{"x":1186,"y":1750},{"x":1230,"y":1848},{"x":1814,"y":1221},{"x":1607,"y":1913},{"x":1468,"y":1471},{"x":1686,"y":1764},{"x":1898,"y":1145},{"x":1356,"y":1541},{"x":1899,"y":1464},{"x":1590,"y":1280},{"x":1505,"y":1887},{"x":1715,"y":1473},{"x":1109,"y":1668},{"x":1896,"y":1936},
            {"x":1551,"y":1681},{"x":1026,"y":1881},{"x":1015,"y":1575},{"x":1273,"y":1784},{"x":1515,"y":1388},{"x":1175,"y":1546},{"x":1485,"y":1580},{"x":1386,"y":986},{"x":1604,"y":1116},{"x":1469,"y":1412},{"x":1051,"y":1526},{"x":1283,"y":1697},{"x":1404,"y":1667},{"x":1690,"y":1472},{"x":1445,"y":1818},{"x":1195,"y":1947},{"x":1098,"y":1416},{"x":1288,"y":1225},{"x":1420,"y":1059},{"x":1669,"y":1738},{"x":1856,"y":1085},{"x":1469,"y":1452},{"x":1287,"y":1545},{"x":1681,"y":1363},{"x":1783,"y":1541},{"x":1433,"y":1565},{"x":1920,"y":1278},{"x":1135,"y":1267},{"x":1056,"y":1098},{"x":1823,"y":1093},{"x":1353,"y":1079},{"x":1502,"y":1965},{"x":1505,"y":1199},{"x":1467,"y":1614},{"x":1650,"y":1838},{"x":1972,"y":1303},{"x":1908,"y":1768},{"x":1656,"y":1388},{"x":989,"y":1515},{"x":1859,"y":1928},{"x":1274,"y":994},{"x":1855,"y":1606},{"x":1756,"y":1382},{"x":1748,"y":1744},{"x":1176,"y":1084},{"x":1075,"y":1416},{"x":1047,"y":1043},{"x":1358,"y":1173},{"x":1109,"y":1550},{"x":1578,"y":1548},{"x":1202,"y":1521},{"x":1188,"y":1808},{"x":1665,"y":1451},{"x":1040,"y":1743},{"x":1076,"y":1943},{"x":1244,"y":998},{"x":1287,"y":1145},{"x":1808,"y":1003},{"x":1318,"y":1062},{"x":1283,"y":1800}
        ];
        var canvas = document.getElementById("canvasContainer");

        var gkhead = new Image;

        window.onload = function(){		
        
            var ctx = canvas.getContext('2d');
            trackTransforms(ctx);
                
            function redraw(){

                // Clear the entire canvas
                var p1 = ctx.transformedPoint(0,0);
                var p2 = ctx.transformedPoint(canvas.width,canvas.height);
                ctx.clearRect(p1.x,p1.y,p2.x-p1.x,p2.y-p1.y);

                ctx.save();
                ctx.setTransform(1,0,0,1,0,0);
                ctx.clearRect(0,0,canvas.width,canvas.height);
                ctx.restore();

                ctx.drawImage(gkhead,0,0);

                var currentXOffset = p1.x;
                var currentYOffset = p1.y;
                var currentXEndpoint = currentXOffset + 500;
                var currentYEndpoint = currentYOffset + 500;

                for (var i = 0; i < points.length; i++) {
                    if( ((points[i].x > p1.x) && (points[i].x < p2.x)) && ((points[i].y > p1.y) && (points[i].y < p2.y)) ){
                        ctx.beginPath();
                        ctx.arc(points[i].x, points[i].y, 2.5, 0, 2 * Math.PI, false);
                        ctx.fillStyle = 'red';
                        ctx.fill();
                    }
                }

            }
            redraw();

            var lastX=canvas.width/2, lastY=canvas.height/2;

            var dragStart,dragged;

            canvas.addEventListener('mousedown',function(evt){
                document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = 'none';
                lastX = evt.offsetX || (evt.pageX - canvas.offsetLeft);
                lastY = evt.offsetY || (evt.pageY - canvas.offsetTop);
                dragStart = ctx.transformedPoint(lastX,lastY);
                dragged = false;
            },false);

            canvas.addEventListener('mousemove',function(evt){
                lastX = evt.offsetX || (evt.pageX - canvas.offsetLeft);
                lastY = evt.offsetY || (evt.pageY - canvas.offsetTop);
                dragged = true;
                if (dragStart){
                    var pt = ctx.transformedPoint(lastX,lastY);
                    ctx.translate(pt.x-dragStart.x,pt.y-dragStart.y);
                    redraw();
                        }
            },false);

            canvas.addEventListener('mouseup',function(evt){
                dragStart = null;
            },false);
    
        };

        gkhead.src = 'map.jpg';
            
        // Adds ctx.getTransform() - returns an SVGMatrix
        // Adds ctx.transformedPoint(x,y) - returns an SVGPoint
        function trackTransforms(ctx){
            var svg = document.createElementNS("http://www.w3.org/2000/svg",'svg');
            var xform = svg.createSVGMatrix();
            ctx.getTransform = function(){ return xform; };

            var savedTransforms = [];
            var save = ctx.save;
            ctx.save = function(){
                savedTransforms.push(xform.translate(0,0));
                return save.call(ctx);
            };
            
            var restore = ctx.restore;
            ctx.restore = function(){
                xform = savedTransforms.pop();
                return restore.call(ctx);
            };
            
            var translate = ctx.translate;
            ctx.translate = function(dx,dy){
                xform = xform.translate(dx,dy);
                return translate.call(ctx,dx,dy);
            };

            var transform = ctx.transform;
            ctx.transform = function(a,b,c,d,e,f){
                var m2 = svg.createSVGMatrix();
                m2.a=a; m2.b=b; m2.c=c; m2.d=d; m2.e=e; m2.f=f;
                xform = xform.multiply(m2);
                return transform.call(ctx,a,b,c,d,e,f);
            };

            var setTransform = ctx.setTransform;
            ctx.setTransform = function(a,b,c,d,e,f){
                xform.a = a;
                xform.b = b;
                xform.c = c;
                xform.d = d;
                xform.e = e;
                xform.f = f;
                return setTransform.call(ctx,a,b,c,d,e,f);
            };

            var pt  = svg.createSVGPoint();
            ctx.transformedPoint = function(x,y){
                pt.x=x; pt.y=y;
                return pt.matrixTransform(xform.inverse());
            }
        }

    </script>
</body>
</html>